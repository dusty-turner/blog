<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="utf-8" />

  
  <title>Analysis of my Children&#39;s Reading List</title>

  
  




  
  <meta name="author" content="Dusty Turner" />
  <meta name="description" content="div.sourceCode { overflow-x: auto; }table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {margin: 0; padding: 0; vertical-align: baseline; border: none; }table.sourceCode { width: 100%; line-height: 100%; background-color: #f8f8f8; }td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }td.sourceCode { padding-left: 5px; }pre, code { background-color: #f8f8f8; }code  span.kw { color: #204a87; font-weight: bold; } /* Keyword */code  span.dt { color: #204a87; } /* DataType */code  span." />

  
  
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@dtdusty" />
    <meta name="twitter:title" content="Analysis of my Children&#39;s Reading List" />
    <meta name="twitter:description" content="div.sourceCode { overflow-x: auto; }table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {margin: 0; padding: 0; vertical-align: baseline; border: none; }table.sourceCode { width: 100%; line-height: 100%; background-color: #f8f8f8; }td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }td.sourceCode { padding-left: 5px; }pre, code { background-color: #f8f8f8; }code  span.kw { color: #204a87; font-weight: bold; } /* Keyword */code  span.dt { color: #204a87; } /* DataType */code  span." />
    <meta name="twitter:image" content="/img/avatar.jpg" />
  




<meta name="generator" content="Hugo 0.30.2" />


<link rel="canonical" href="/post/analysis-of-my-children-s-reading-list/" />
<link rel="alternative" href="/index.xml" title="Dusty Turner" type="application/atom+xml" />


<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<meta name="format-detection" content="telephone=no,email=no,adress=no" />
<meta http-equiv="Cache-Control" content="no-transform" />


<meta name="robots" content="index,follow" />
<meta name="referrer" content="origin-when-cross-origin" />
<meta name="google-site-verification" content="-jH0wqxQCDh6JrcCbL9tuGso_EV4u1BRT93XjGqNsfo" />
<meta name="msvalidate.01" content="84DDAAE7986A2E9D73062694A69D33A9" />





<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="apple-mobile-web-app-title" content="Dusty Turner" />
<meta name="msapplication-tooltip" content="Dusty Turner" />
<meta name='msapplication-navbutton-color' content="#5fbf5e" />
<meta name="msapplication-TileColor" content="#5fbf5e" />
<meta name="msapplication-TileImage" content="/img/tile-image-windows.png" />
<link rel="icon" href="/img/favicon.ico" />
<link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png" />
<link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png" />
<link rel="icon" sizes="192x192" href="/img/touch-icon-android.png" />
<link rel="apple-touch-icon" href="/img/touch-icon-apple.png" />
<link rel="mask-icon" href="/img/safari-pinned-tab.svg" color="#5fbf5e" />



<link rel="stylesheet" href="//cdn.bootcss.com/video.js/6.2.8/alt/video-js-cdn.min.css" />

<link rel="stylesheet" href="/css/bundle.css" />


  
  <!--[if lt IE 9]>
    <script src="//cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="//cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <script src="//cdn.bootcss.com/video.js/6.2.8/ie8/videojs-ie8.min.js"></script>
  <![endif]-->

<!--[if lte IE 11]>
    <script src="//cdn.bootcss.com/classlist/1.1.20170427/classList.min.js"></script>
  <![endif]-->


<script src="//cdn.bootcss.com/object-fit-images/3.2.3/ofi.min.js"></script>


<script src="//cdn.bootcss.com/smooth-scroll/12.1.4/js/smooth-scroll.polyfills.min.js"></script>


</head>
  <body>
    
    <div class="suspension">
      <a title="Go to top" class="to-top is-hide"><span class="icon icon-up"></span></a>
      
        
        <a title="Go to comments" class="to-comment" href="#disqus_thread"><span class="icon icon-comment"></span></a>
        
      
    </div>
    
    
  <header class="site-header">
  <img class="avatar" src="/img/dusty.png" alt="Avatar">
  
  <h2 class="title">Dusty Turner</h2>
  
  <p class="subtitle">~A Little Fox, A Little Hedgehog~</p>
  <button class="menu-toggle" type="button">
    <span class="icon icon-menu"></span>
  </button>
  <nav class="site-menu collapsed">
    <h2 class="offscreen">Main Menu</h2>
    <ul class="menu-list">
      
      
      
      
        <li class="menu-item  is-active"><a href="/">Home</a></li>
      
        <li class="menu-item "><a href="https://github.com/dusty-turner">Github</a></li>
      
        <li class="menu-item "><a href="/links/">Links</a></li>
      
        <li class="menu-item "><a href="/about/">About</a></li>
      
        <li class="menu-item "><a href="/community/">Community</a></li>
      
        <li class="menu-item "><a href="/cv.pdf">CV</a></li>
      
    </ul>
  </nav>
  <nav class="social-menu collapsed">
    <h2 class="offscreen">Social Networks</h2>
    <ul class="social-list">

      
      <li class="social-item">
        <a href="mailto:dusty.s.turner@gmail.com" title="Email"><span class="icon icon-email"></span></a>
      </li>

      
      <li class="social-item">
        <a href="//github.com/dusty-turner" title="GitHub"><span class="icon icon-github"></span></a>
      </li>

      <li class="social-item">
        <a href="//twitter.com/dtdusty" title="Twitter"><span class="icon icon-twitter"></span></a>
      </li>

      <li class="social-item">
        <a href="//www.facebook.com/dusty.turner" title="Facebook"><span class="icon icon-facebook"></span></a>
      </li>

      

      

      

      

      

      

      

      

      

      

      

      

      

      <li class="social-item">
        <a href="//www.linkedin.com/in/dusty-turner-34a148112" title="Linkedin"><span class="icon icon-linkedin"></span></a>
      </li>

      

      

      

      <li class="social-item">
        <a href="/index.xml"><span class="icon icon-rss" title="RSS"></span></a>
      </li>

    </ul>
  </nav>
</header>

  <section class="main post-detail">
    <header class="post-header">
      <h1 class="post-title">Analysis of my Children&#39;s Reading List</h1>
      <p class="post-meta">@Dusty Turner · Dec 31, 2017 · 12 min read</p>
    </header>
    <article class="post-content"><style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #f8f8f8; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
pre, code { background-color: #f8f8f8; }
code > span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code > span.dt { color: #204a87; } /* DataType */
code > span.dv { color: #0000cf; } /* DecVal */
code > span.bn { color: #0000cf; } /* BaseN */
code > span.fl { color: #0000cf; } /* Float */
code > span.ch { color: #4e9a06; } /* Char */
code > span.st { color: #4e9a06; } /* String */
code > span.co { color: #8f5902; font-style: italic; } /* Comment */
code > span.ot { color: #8f5902; } /* Other */
code > span.al { color: #ef2929; } /* Alert */
code > span.fu { color: #000000; } /* Function */
code > span.er { color: #a40000; font-weight: bold; } /* Error */
code > span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #000000; } /* Constant */
code > span.sc { color: #000000; } /* SpecialChar */
code > span.vs { color: #4e9a06; } /* VerbatimString */
code > span.ss { color: #4e9a06; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #000000; } /* Variable */
code > span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code > span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code > span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code > span.ex { } /* Extension */
code > span.at { color: #c4a000; } /* Attribute */
code > span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code > span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
</style>

<div id="TOC">
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#exploratory-data-analysis">Exploratory Data Analysis</a></li>
<li><a href="#text-analysis">Text Analysis</a></li>
<li><a href="#further-analysis-to-follow-as-we-read-books-throughout-the-year.">Further analysis to follow as we read books throughout the year.</a></li>
</ul>
</div>

<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>Test</p>
<p>Over this Christmas break, my wife was inpired to keep track of the books we read to our kids. Her goal is to amass 1000 books in 2018. She downloaded ‘Bookbuddy’ on her Iphone and can scan the barcodes with the camera. Doing this saves a lot of data about the books. After a quick export, we have a nice csv.</p>
<p>Ever on the lookout for cool data science projects, this peaked my interest.</p>
<p>What follows below is a growing look to provide insight to what we read our kids.</p>
<p>Lets start with some…</p>
</div>
<div id="exploratory-data-analysis" class="section level2">
<h2>Exploratory Data Analysis</h2>
<div id="libraries" class="section level3">
<h3>Libraries</h3>
<p>The libraries I will use for this analysis are the following:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(lubridate)
<span class="kw">library</span>(janitor)
<span class="kw">library</span>(tidytext)</code></pre></div>
<p>Lets read in the data and get a feel for what information we have available. Since my wife, our babysitter, and I have scanned the books in bookbuddy, I need to upload all the data and join it together. Many of the column names have spaces which does not support data munging. I’ll use the <code>clean_names</code> command from the <code>janitor</code> package to clean this up. Lastly, you’ll not I used the <code>distinct</code> call because some of us scanned the same books. We do not want to account for them twice.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">book1 =<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;books.csv&quot;</span>) 
book2 =<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;BookBuddy.csv&quot;</span>)
book3 =<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;BookBuddy2.csv&quot;</span>)
book4 =<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;BookBuddy3.csv&quot;</span>)
booksread =
<span class="st">  </span>book1 <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">bind_rows</span>(book2) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">bind_rows</span>(book3) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">bind_rows</span>(book4)  <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">clean_names</span>(<span class="dt">case =</span> <span class="st">&quot;upper_camel&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">distinct</span>()

<span class="kw">head</span>(booksread)</code></pre></div>
<pre><code>## # A tibble: 6 x 58
##   Title Subtitle Series Volume Author AuthorLastFirst Illustrator Narrator Translator Publisher DatePublished YearPublished Genre Edition Editor
##   &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;           &lt;chr&gt;       &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;                 &lt;int&gt; &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
## 1 And ~ &lt;NA&gt;     &lt;NA&gt;   &lt;NA&gt;   Tom B~ Brenner, Tom    &lt;NA&gt;        &lt;NA&gt;     &lt;NA&gt;       Candlewi~ 5/1/2017               2017 Juve~ &lt;NA&gt;    &lt;NA&gt;  
## 2 BE Q~ &lt;NA&gt;     &lt;NA&gt;   &lt;NA&gt;   Ryan ~ Higgins, Ryan ~ &lt;NA&gt;        &lt;NA&gt;     &lt;NA&gt;       Disney-H~ 4/4/2017               2017 Juve~ &lt;NA&gt;    &lt;NA&gt;  
## 3 Bus ~ &lt;NA&gt;     &lt;NA&gt;   &lt;NA&gt;   Maria~ Dubuc, Marianne &lt;NA&gt;        &lt;NA&gt;     &lt;NA&gt;       Kids Can~ 3/1/2015               2015 Juve~ &lt;NA&gt;    &lt;NA&gt;  
## 4 Chri~ &lt;NA&gt;     &lt;NA&gt;   &lt;NA&gt;   Cynth~ Rylant, Cynthia &lt;NA&gt;        &lt;NA&gt;     &lt;NA&gt;       Blue Sky~ &lt;NA&gt;                   2002 Juve~ &lt;NA&gt;    &lt;NA&gt;  
## 5 Este~ &lt;NA&gt;     &lt;NA&gt;   &lt;NA&gt;   Anna ~ Alter, Anna     &lt;NA&gt;        &lt;NA&gt;     &lt;NA&gt;       HarperCo~ 3/20/2001              2001 Juve~ &lt;NA&gt;    &lt;NA&gt;  
## 6 Litt~ &lt;NA&gt;     &lt;NA&gt;   &lt;NA&gt;   Alice~ Schertle, Alice &lt;NA&gt;        &lt;NA&gt;     &lt;NA&gt;       Houghton~ &lt;NA&gt;                   2014 Juve~ &lt;NA&gt;    &lt;NA&gt;  
## # ... with 43 more variables: Summary &lt;chr&gt;, GuidedReadingLevel &lt;chr&gt;, LexileMeasure &lt;chr&gt;, GradeLevelEquivalent &lt;chr&gt;,
## #   DevelopmentalReadingAssessment &lt;chr&gt;, InterestLevel &lt;chr&gt;, WordCount &lt;chr&gt;, OriginalTitle &lt;chr&gt;, NumberOfPages &lt;int&gt;, Format &lt;chr&gt;,
## #   Dimensions &lt;chr&gt;, Weight &lt;chr&gt;, ListPrice &lt;chr&gt;, Language &lt;chr&gt;, Ddc &lt;chr&gt;, Lcc &lt;chr&gt;, Oclc &lt;chr&gt;, Isbn &lt;dbl&gt;, Favorites &lt;int&gt;, Rating &lt;int&gt;,
## #   PhysicalLocation &lt;chr&gt;, Status &lt;chr&gt;, DateStarted &lt;chr&gt;, DateFinished &lt;chr&gt;, LoanedTo &lt;chr&gt;, DateLoaned &lt;chr&gt;, BorrowedFrom &lt;chr&gt;,
## #   DateBorrowed &lt;chr&gt;, Quantity &lt;chr&gt;, Condition &lt;chr&gt;, RecommendedBy &lt;chr&gt;, DateAdded &lt;time&gt;, Tags &lt;chr&gt;, PurchaseDate &lt;chr&gt;, PurchasePlace &lt;chr&gt;,
## #   PurchasePrice &lt;chr&gt;, Notes &lt;chr&gt;, GoogleVolumeId &lt;chr&gt;, Category &lt;chr&gt;, WishList &lt;int&gt;, UploadedImageUrl &lt;chr&gt;, ReturnedFromBorrow &lt;int&gt;,
## #   Activities &lt;chr&gt;</code></pre>
<p>There are ‘ton’ of colums, many of them are nothing but <code>nas</code>, so I’ll eliminate those immediatly.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">booksread =<span class="st"> </span>booksread <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select_if</span>(<span class="cf">function</span>(x) <span class="kw">any</span>(<span class="op">!</span><span class="kw">is.na</span>(x)))
<span class="kw">summary</span>(booksread)</code></pre></div>
<pre><code>##     Title             Subtitle            Author          AuthorLastFirst     Publisher         DatePublished      YearPublished     Genre          
##  Length:503         Length:503         Length:503         Length:503         Length:503         Length:503         Min.   :1962   Length:503        
##  Class :character   Class :character   Class :character   Class :character   Class :character   Class :character   1st Qu.:2001   Class :character  
##  Mode  :character   Mode  :character   Mode  :character   Mode  :character   Mode  :character   Mode  :character   Median :2008   Mode  :character  
##                                                                                                                    Mean   :2006                     
##                                                                                                                    3rd Qu.:2013                     
##                                                                                                                    Max.   :2017                     
##                                                                                                                    NA&#39;s   :22                       
##    Summary          NumberOfPages      Language              Isbn             Favorites     Rating     Status           DateAdded       
##  Length:503         Min.   : 10.00   Length:503         Min.   :3.955e+08   Min.   :0   Min.   :0   Length:503         Length:503       
##  Class :character   1st Qu.: 32.00   Class :character   1st Qu.:9.780e+12   1st Qu.:0   1st Qu.:0   Class :character   Class1:hms       
##  Mode  :character   Median : 32.00   Mode  :character   Median :9.781e+12   Median :0   Median :0   Mode  :character   Class2:difftime  
##                     Mean   : 41.51                      Mean   :9.642e+12   Mean   :0   Mean   :0                      Mode  :numeric   
##                     3rd Qu.: 32.00                      3rd Qu.:9.781e+12   3rd Qu.:0   3rd Qu.:0                                       
##                     Max.   :600.00                      Max.   :9.789e+12   Max.   :0   Max.   :0                                       
##                     NA&#39;s   :63                          NA&#39;s   :9                                                                       
##  GoogleVolumeId       Category            WishList UploadedImageUrl   ReturnedFromBorrow
##  Length:503         Length:503         Min.   :0   Length:503         Min.   :0         
##  Class :character   Class :character   1st Qu.:0   Class :character   1st Qu.:0         
##  Mode  :character   Mode  :character   Median :0   Mode  :character   Median :0         
##                                        Mean   :0                      Mean   :0         
##                                        3rd Qu.:0                      3rd Qu.:0         
##                                        Max.   :0                      Max.   :0         
##                                                                       NA&#39;s   :41</code></pre>
<p>Some of the features are redundant, some are full of <code>0</code>s, and some are otherwise uninteresting, so I’ll select what is of value:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">books =<span class="st"> </span>booksread <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(Title, Author, Publisher, DatePublished, YearPublished,
         Genre, Summary, NumberOfPages, DateAdded) 

<span class="kw">head</span>(books)</code></pre></div>
<pre><code>## # A tibble: 6 x 9
##   Title         Author    Publisher     DatePublished YearPublished Genre    Summary                                          NumberOfPages DateAdded
##   &lt;chr&gt;         &lt;chr&gt;     &lt;chr&gt;         &lt;chr&gt;                 &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;                                                    &lt;int&gt; &lt;time&gt;   
## 1 And Then Com~ Tom Bren~ Candlewick P~ 5/1/2017               2017 Juvenil~ A joyful, sun-drenched tribute to the anticipat~            32 06:56    
## 2 BE QUIET!     Ryan T. ~ Disney-Hyper~ 4/4/2017               2017 Juvenil~ &quot;All Rupert the mouse wants is to star in a bea~            40 08:00    
## 3 Bus Ride, The Marianne~ Kids Can Pre~ 3/1/2015               2015 Juvenil~ This is the first time I&lt;U+FFFD&gt;m taking the bus by my~            40 06:56    
## 4 Christmas in~ Cynthia ~ Blue Sky Pre~ &lt;NA&gt;                   2002 Juvenil~ On the 20th anniversary of their first collabor~            32 06:56    
## 5 Estelle and ~ Anna Alt~ HarperCollins 3/20/2001              2001 Juvenil~ Sometimes it&#39;s hard to be big. Sometimes it&#39;s h~            24 06:56    
## 6 Little Blue ~ Alice Sc~ Houghton Mif~ &lt;NA&gt;                   2014 Juvenil~ It&#39;s the most wonderful time of the year! Littl~            24 12:05</code></pre>
<p>Lets take a look at what Authors we typically select for our kids.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> books, <span class="kw">aes</span>(Author)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_bar</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">45</span>, <span class="dt">hjust =</span> <span class="dv">1</span>))</code></pre></div>
<p><img src="/post/2017-12-31-analysis-of-my-children-s-reading-list_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>Oh man, that’s indecipherable. Lets only select the Authors where we’ve read at least 3 of their books.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">books <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(Author) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">add_tally</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(n<span class="op">&gt;</span><span class="dv">3</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="kw">fct_reorder</span>(Author,<span class="op">-</span>n))) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> <span class="kw">log</span>(n))) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">45</span>, <span class="dt">hjust =</span> <span class="dv">1</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;none&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Author&quot;</span>)</code></pre></div>
<p><img src="/post/2017-12-31-analysis-of-my-children-s-reading-list_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>Clearly, we read a lot of Berenstain Bear books - but notice how Bookbuddy saves the Berenstain Author. Lets collapse them all into one Author</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">books =<span class="st"> </span>books <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Author =</span> <span class="kw">ifelse</span>(<span class="kw">grepl</span>(<span class="st">&quot;Bere&quot;</span>, Author)<span class="op">==</span><span class="ot">TRUE</span>, <span class="st">&quot;Berenstein&quot;</span>, Author))

books <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(Author) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">add_tally</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(n<span class="op">&gt;</span><span class="dv">3</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="kw">fct_reorder</span>(Author,<span class="op">-</span>n))) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> <span class="kw">log</span>(n))) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">45</span>, <span class="dt">hjust =</span> <span class="dv">1</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;none&quot;</span>)</code></pre></div>
<p><img src="/post/2017-12-31-analysis-of-my-children-s-reading-list_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>Nice!! - But wow, we read a lot of books about the Berenstien Bears. Lets take a look at the type of material that we are putting in our kids head.</p>
<p>But first, we read a book written by ‘God’? Lets investigate.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">books <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(Author<span class="op">==</span><span class="st">&quot;God&quot;</span>)</code></pre></div>
<pre><code>## # A tibble: 2 x 9
##   Title             Author Publisher          DatePublished YearPublished Genre Summary NumberOfPages DateAdded
##   &lt;chr&gt;             &lt;chr&gt;  &lt;chr&gt;              &lt;chr&gt;                 &lt;int&gt; &lt;chr&gt; &lt;chr&gt;           &lt;int&gt; &lt;time&gt;   
## 1 The Lord&#39;s prayer God    Make Believe Ideas &lt;NA&gt;                     NA &lt;NA&gt;  &lt;NA&gt;               20 05:00    
## 2 The Lord&#39;s prayer God    Make Believe Ideas &lt;NA&gt;                     NA &lt;NA&gt;  &lt;NA&gt;               20 05:00</code></pre>
<p>Okay then.</p>
<p>The next few charts depict the year the books were first published, the number of pages, the Genre of the books.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> books, <span class="kw">aes</span>(YearPublished)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_bar</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Books By Year&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Total Books&quot;</span>)</code></pre></div>
<p><img src="/post/2017-12-31-analysis-of-my-children-s-reading-list_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> books, <span class="kw">aes</span>(NumberOfPages)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_histogram</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Books By Number of Pages&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Total Books&quot;</span>)</code></pre></div>
<p><img src="/post/2017-12-31-analysis-of-my-children-s-reading-list_files/figure-html/unnamed-chunk-9-2.png" width="672" /></p>
<p>There are a ton of odd Genre’s and I’ve eliminated several. Lets take a look at that:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">books =<span class="st"> </span>books <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Genre =</span> <span class="kw">ifelse</span>(Genre<span class="op">==</span><span class="st">&quot;Otters&quot;</span><span class="op">|</span>Genre<span class="op">==</span><span class="st">&quot;Beavers&quot;</span><span class="op">|</span>Genre<span class="op">==</span><span class="st">&quot;Cows&quot;</span><span class="op">|</span>Genre<span class="op">==</span><span class="st">&quot;Rabbits&quot;</span><span class="op">|</span>Genre<span class="op">==</span><span class="st">&quot;Animal tracks&quot;</span><span class="op">|</span>Genre<span class="op">==</span><span class="st">&quot;Horses&quot;</span><span class="op">|</span>Genre<span class="op">==</span><span class="st">&quot;Deer&quot;</span>,<span class="st">&quot;Animals&quot;</span>,Genre)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Genre =</span> <span class="kw">ifelse</span>(Genre<span class="op">==</span><span class="st">&quot;Hair in Fiction&quot;</span>, <span class="st">&quot;Juvenile Fiction&quot;</span>, Genre))

books <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(Genre) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">add_tally</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(n<span class="op">&gt;</span><span class="dv">2</span>, <span class="op">!</span><span class="kw">is.na</span>(Genre)) <span class="op">%&gt;%</span>
<span class="kw">ggplot</span>(<span class="kw">aes</span>(Genre, <span class="dt">fill =</span> Genre)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_bar</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Books By Genre&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Total Books&quot;</span>)  <span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">45</span>, <span class="dt">hjust =</span> <span class="dv">1</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;none&quot;</span>)</code></pre></div>
<p><img src="/post/2017-12-31-analysis-of-my-children-s-reading-list_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>Notice, I filtered out some <code>NAs</code>. Lets take a look at what what are these <code>NA</code>s are?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">books <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(<span class="kw">is.na</span>(Genre))</code></pre></div>
<pre><code>## # A tibble: 52 x 9
##    Title                         Author      Publisher        DatePublished YearPublished Genre Summary                       NumberOfPages DateAdded
##    &lt;chr&gt;                         &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;                 &lt;int&gt; &lt;chr&gt; &lt;chr&gt;                                 &lt;int&gt; &lt;time&gt;   
##  1 Paw Patrol Flashlight         Phoenix In~ Phoenix Interna~ 9/20/2016              2016 &lt;NA&gt;  &lt;NA&gt;                                     NA 09:07    
##  2 The Berenstain Bears and Too~ Berenstein  Tandem Library   10/1/1999              1999 &lt;NA&gt;  &lt;NA&gt;                                     32 09:21    
##  3 The Lord&#39;s prayer             God         Make Believe Id~ &lt;NA&gt;                     NA &lt;NA&gt;  &lt;NA&gt;                                     20 05:00    
##  4 Hercules                      Disney      &lt;NA&gt;             &lt;NA&gt;                     NA &lt;NA&gt;  &lt;NA&gt;                                     NA 00:36    
##  5 Me On The Map                 Joan Sween~ &lt;NA&gt;             &lt;NA&gt;                     NA &lt;NA&gt;  &lt;NA&gt;                                     NA 15:24    
##  6 &quot;My \&quot;a\&quot; book (My first ste~ Jane Belk ~ Childs World/Gr~ &lt;NA&gt;                   2001 &lt;NA&gt;  &lt;NA&gt;                                     29    NA    
##  7 My “w” Book                   Jane Bell ~ &lt;NA&gt;             &lt;NA&gt;                     NA &lt;NA&gt;  &lt;NA&gt;                                     NA 17:53    
##  8 Oh, The Places You’ll Go!     Dr. Seuss   &lt;NA&gt;             &lt;NA&gt;                     NA &lt;NA&gt;  &lt;NA&gt;                                     NA    NA    
##  9 Peter Pan                     Walt Disney Disney Publishi~ &lt;NA&gt;                   2007 &lt;NA&gt;  Storybook version of the Wal~            24 16:13    
## 10 The Lion King                 Walt Disney &lt;NA&gt;             &lt;NA&gt;                     NA &lt;NA&gt;  &lt;NA&gt;                                     NA    NA    
## # ... with 42 more rows</code></pre>
</div>
</div>
<div id="text-analysis" class="section level2">
<h2>Text Analysis</h2>
<p>Now that we’ve explored the dataset, lets see what information we can glean.</p>
<p>I’d really like to know what type of words / sentiment we are reading our children – but until I can figure out a way to get the words from all the books, I’ll have to use the <code>Summary</code> provided by BookBuddy.<br />
Here’s an example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">books <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(Title<span class="op">==</span><span class="st">&quot;Mama Cat Has Three Kittens&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(Summary)</code></pre></div>
<pre><code>## # A tibble: 2 x 1
##   Summary                                                                                                                                             
##   &lt;chr&gt;                                                                                                                                               
## 1 Some kittens march to the beat of a different drummer.Mama Cat has three kittens, Fluffy, Skinny, and Boris. Where Mama Cat leads, Fluffy and Skinn~
## 2 Some kittens march to the beat of a different drummer.Mama Cat has three kittens, Fluffy, Skinny, and Boris. Where Mama Cat leads, Fluffy and Skinn~</code></pre>
<p>So, lets prepare the data. I’d like to bring along some information while I tokenize the summaries (Titles, Authors, and Genres). We’d also like to translate NRCs emotions into <code>Positive</code>, <code>Negative</code>, and <code>Neutral</code> classifications.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">text_df =<span class="st"> </span><span class="kw">data_frame</span>(<span class="dt">line =</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(books<span class="op">$</span>Summary), <span class="dt">text =</span> <span class="kw">as.character</span>(books<span class="op">$</span>Summary), <span class="dt">book =</span> books<span class="op">$</span>Title, <span class="dt">Genre =</span> books<span class="op">$</span>Genre, <span class="dt">Author =</span> books<span class="op">$</span>Author)

textcleaned =<span class="st"> </span>text_df <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">unnest_tokens</span>(word, text)

cleanedarticle =<span class="st"> </span><span class="kw">anti_join</span>(textcleaned,stop_words, <span class="dt">by =</span> <span class="st">&quot;word&quot;</span>)

nrc =<span class="st"> </span><span class="kw">get_sentiments</span>(<span class="st">&quot;nrc&quot;</span>)

booksentimentnrc =<span class="st"> </span>cleanedarticle <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">inner_join</span>(nrc, <span class="dt">by =</span> <span class="st">&quot;word&quot;</span>)

booksentimentnrc =<span class="st"> </span>booksentimentnrc <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">sent =</span> <span class="kw">ifelse</span>(sentiment<span class="op">==</span><span class="st">&quot;joy&quot;</span><span class="op">|</span>sentiment<span class="op">==</span><span class="st">&quot;positive&quot;</span><span class="op">|</span>sentiment<span class="op">==</span><span class="st">&quot;suprise&quot;</span><span class="op">|</span>sentiment<span class="op">==</span><span class="st">&quot;trust&quot;</span>,<span class="st">&quot;Positive Words&quot;</span>,
                       <span class="kw">ifelse</span>(sentiment<span class="op">==</span><span class="st">&quot;disgust&quot;</span><span class="op">|</span>sentiment<span class="op">==</span><span class="st">&quot;fear&quot;</span><span class="op">|</span>sentiment<span class="op">==</span><span class="st">&quot;negative&quot;</span><span class="op">|</span>sentiment<span class="op">==</span><span class="st">&quot;sadness&quot;</span>,<span class="st">&quot;Negative Words&quot;</span>,<span class="st">&quot;Neutral Words&quot;</span>))) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">sent =</span> <span class="kw">as.factor</span>(sent))

booksentimentnrc</code></pre></div>
<pre><code>## # A tibble: 9,929 x 7
##     line book                  Genre            Author      word         sentiment    sent          
##    &lt;int&gt; &lt;chr&gt;                 &lt;chr&gt;            &lt;chr&gt;       &lt;chr&gt;        &lt;chr&gt;        &lt;fct&gt;         
##  1     1 And Then Comes Summer Juvenile Fiction Tom Brenner joyful       joy          Positive Words
##  2     1 And Then Comes Summer Juvenile Fiction Tom Brenner joyful       positive     Positive Words
##  3     1 And Then Comes Summer Juvenile Fiction Tom Brenner joyful       trust        Positive Words
##  4     1 And Then Comes Summer Juvenile Fiction Tom Brenner sun          anticipation Neutral Words 
##  5     1 And Then Comes Summer Juvenile Fiction Tom Brenner sun          joy          Positive Words
##  6     1 And Then Comes Summer Juvenile Fiction Tom Brenner sun          positive     Positive Words
##  7     1 And Then Comes Summer Juvenile Fiction Tom Brenner sun          surprise     Neutral Words 
##  8     1 And Then Comes Summer Juvenile Fiction Tom Brenner sun          trust        Positive Words
##  9     1 And Then Comes Summer Juvenile Fiction Tom Brenner tribute      positive     Positive Words
## 10     1 And Then Comes Summer Juvenile Fiction Tom Brenner anticipation anticipation Neutral Words 
## # ... with 9,919 more rows</code></pre>
<p>Lets look at the sentiment my children are receiving in their books (as told by the summaries)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> booksentimentnrc, <span class="kw">aes</span>(sent, <span class="dt">color =</span> sentiment, <span class="dt">fill =</span> sentiment)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_bar</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Type of Words my Children Listen in Books&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">xlab</span>(<span class="st">&quot;Sentiment&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Total Count&quot;</span>)</code></pre></div>
<p><img src="/post/2017-12-31-analysis-of-my-children-s-reading-list_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<p>Maybe it would be more interesting to see which Authrors are providing which sentiments.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">booksentimentnrc <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(Author) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">add_tally</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(n<span class="op">&gt;</span><span class="dv">100</span>) <span class="op">%&gt;%</span>

<span class="kw">ggplot</span>(<span class="kw">aes</span>(sent, <span class="dt">color =</span> sentiment, <span class="dt">fill =</span> sentiment)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_bar</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">facet_wrap</span>(<span class="st">&quot;Author&quot;</span>, <span class="dt">scales =</span> <span class="st">&quot;free_y&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Type of Words my Children Listen in Books&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">xlab</span>(<span class="st">&quot;Sentiment&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Total Count&quot;</span>)  <span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">45</span>, <span class="dt">hjust =</span> <span class="dv">1</span>))</code></pre></div>
<p><img src="/post/2017-12-31-analysis-of-my-children-s-reading-list_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<p>Lastly, lets see if there’s a genre that has any sentiment sway. Of note, I find it funny that there is a ‘Bears’ genre.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">booksentimentnrc <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(Genre) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">add_tally</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(Genre)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(n<span class="op">&gt;</span><span class="dv">15</span>) <span class="op">%&gt;%</span>
<span class="kw">ggplot</span>(<span class="kw">aes</span>(sent, <span class="dt">fill =</span> sent)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_bar</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">facet_wrap</span>(<span class="st">&quot;Genre&quot;</span>, <span class="dt">scales =</span> <span class="st">&quot;free_y&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Sentiment by Genre&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">xlab</span>(<span class="st">&quot;Sentiment&quot;</span>)</code></pre></div>
<p><img src="/post/2017-12-31-analysis-of-my-children-s-reading-list_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
</div>
<div id="further-analysis-to-follow-as-we-read-books-throughout-the-year." class="section level2">
<h2>Further analysis to follow as we read books throughout the year.</h2>
</div>
</article>
    <footer class="post-footer">
      
      <ul class="post-tags">
        
          <li><a href="/tags/r"><span class="tag">R</span></a></li>
        
          <li><a href="/tags/datascience"><span class="tag">Datascience</span></a></li>
        
          <li><a href="/tags/tidyverse"><span class="tag">Tidyverse</span></a></li>
        
          <li><a href="/tags/lubridate"><span class="tag">Lubridate</span></a></li>
        
          <li><a href="/tags/children"><span class="tag">Children</span></a></li>
        
          <li><a href="/tags/books"><span class="tag">Books</span></a></li>
        
          <li><a href="/tags/tidytext"><span class="tag">Tidytext</span></a></li>
        
      </ul>
      
      <p class="post-copyright">
        © This post is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License，please give source if you likes to quote or reproduce.This post was published <strong>347</strong> days ago, content in the post may be inaccurate, even wrong now, please take risk yourself.
      </p>
    </footer>
    
      <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "dusty-turner" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      
    
  </section>
  <footer class="site-footer">
  <p>© 2017-2018 Dusty Turner</p>
  <p>Powered by <a href="https://gohugo.io/" target="_blank">Hugo</a> with theme <a href="https://github.com/laozhu/hugo-nuo" target="_blank">Nuo</a>.</p>
  
</footer>



<script async src="//cdn.bootcss.com/video.js/6.2.8/alt/video.novtt.min.js"></script>
<script async src="//cdn.bootcss.com/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$','$'], ['\\(','\\)']],
      displayMath: [['$$','$$'], ['\[','\]']],
      processEscapes: true,
      processEnvironments: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
      TeX: { equationNumbers: { autoNumber: "AMS" },
      extensions: ["AMSmath.js", "AMSsymbols.js"] }
    }
  });
</script>
<script type="text/x-mathjax-config">
  // Fix <code> tags after MathJax finishes running. This is a
  // hack to overcome a shortcoming of Markdown. Discussion at
  // https://github.com/mojombo/jekyll/issues/199
  MathJax.Hub.Queue(() => {
    MathJax.Hub.getAllJax().map(v => v.SourceElement().parentNode.className += ' has-jax');
  });
</script>

<script src="/js/bundle.js"></script>


<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-109926409-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>





  </body>
</html>
